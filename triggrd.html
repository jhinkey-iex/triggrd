<html>
    <head>
        <title>Triggrd</title>
<script>
const token='pk_ee6a174ecb4e4aaf99ea0da688a9b367';

function nextPage(current, next) {
    document.getElementById(current).style.visibility = 'hidden';
    document.getElementById(next).style.visibility = 'visible';
}

function startPollingTrigger(triggerName) {
    // TODO
    console.warn("startPollingTrigger: %s -- TODO", triggerName);
}

function actOnTriggers() {
    const triggers = document.forms[0];
    for (const tr of triggers)
        if (tr.checked)
            startPollingTrigger(tr.value);
    nextPage("second", "third");
}
</script>
<style>
div {
    visibility: hidden;
    position: absolute;
    top: 0px;
    left: 0px;
}
</style>
</head>

<body>

<div id=first style='visibility: visible'>
<!-- This is the first page users see when they open the app -->
<h1>First page</h1>

<p>
<a href='' onClick='nextPage("first", "second"); return false;'>Go to second page</a>
</div>

<div id=second>
<!-- This is the second page -->
<h1>Second page</h1>

<h2>Select your triggers:</h2>
<form onSubmit='actOnTriggers(); return false;'>
    <input type=checkbox name=triggers value=ballot>Generic Ballot<br>
    <input type=checkbox name=triggers value=recession>Probability of a Recession<br>
    <p>
    <input type=submit value='Register My Triggers'>
</form>
</div>

<div id=third>
<!-- This is where notifications happen (at this point, we are already
     polling. -->
<h1>Notifications</h1>

TODO
</div>

</body>
</html>
<!-- vim:sts=4:et:sw=4: -->
